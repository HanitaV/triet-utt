<!DOCTYPE html>
<html lang="vi" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·∫£ L·∫≠p Thi | NEO Education</title>
    <meta name="description" content="NEO Education - Gi·∫£ l·∫≠p thi th·∫≠t v·ªõi c·∫•u h√¨nh t√πy ch·ªânh">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/common.css?v=2025122905">
    <link rel="stylesheet" href="css/m3-design-system.css?v=2025122905">
    <link rel="stylesheet" href="css/exam.css?v=2025122905">
    <link rel="stylesheet" href="css/simulation.css?v=2025122905">
</head>

<body>
    <!-- Header Navigation -->
    <header class="main-header">
        <div class="header-content">
            <a href="index.html" class="logo header-logo-centered" id="header-logo">
                <img src="assets/logo/dark_logo.png" alt="NEO" class="logo-img logo-for-dark" height="32">
                <img src="assets/logo/white_logo.png" alt="NEO" class="logo-img logo-for-light" height="32">
                <span class="logo-text">NEO Education</span>
            </a>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <!-- Config Screen -->
            <!-- Apple-style Config Screen -->
            <div class="simulation-config" id="simulation-config">
                <div class="ios-header">
                    <h2 class="ios-title">Gi·∫£ L·∫≠p Thi</h2>
                    <p class="ios-subtitle">C·∫•u h√¨nh b√†i thi chu·∫©n</p>
                </div>

                <div class="bento-grid">
                    <!-- MAIN CARD: Total Questions -->
                    <div class="bento-card large hero-stat">
                        <div class="card-icon-bg">üìù</div>
                        <div class="card-content">
                            <h3>S·ªë c√¢u h·ªèi</h3>
                            <div class="ios-stepper">
                                <button class="stepper-btn"
                                    onclick="document.getElementById('sim-total-questions').stepDown(5); document.getElementById('sim-total-questions').dispatchEvent(new Event('input'))">-</button>
                                <input type="number" id="sim-total-questions" value="80" min="10" max="200" readonly>
                                <button class="stepper-btn"
                                    onclick="document.getElementById('sim-total-questions').stepUp(5); document.getElementById('sim-total-questions').dispatchEvent(new Event('input'))">+</button>
                            </div>
                            <span class="sub-text">C·∫•u tr√∫c ƒë·ªÅ thi m·∫∑c ƒë·ªãnh</span>
                        </div>
                    </div>

                    <!-- CARD: Time Limit -->
                    <div class="bento-card medium time-card">
                        <div class="card-icon-bg">‚è±Ô∏è</div>
                        <div class="card-content">
                            <h3>Th·ªùi gian</h3>
                            <div class="time-selector">
                                <input type="range" id="sim-time-limit" min="10" max="180" value="60" step="5">
                                <span class="time-display"><span id="time-display-val">60</span> ph√∫t</span>
                            </div>
                        </div>
                    </div>

                    <!-- CARD: Settings List (iOS Style) -->
                    <div class="bento-card tall settings-card">
                        <h3>T√πy ch·ªçn</h3>
                        <div class="ios-list">
                            <div class="ios-item">
                                <span class="ios-label">Tr·ªôn c√¢u h·ªèi</span>
                                <label class="ios-switch">
                                    <input type="checkbox" id="sim-shuffle-questions" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="ios-item">
                                <span class="ios-label">Tr·ªôn ƒë√°p √°n</span>
                                <label class="ios-switch">
                                    <input type="checkbox" id="sim-shuffle-answers" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="ios-item">
                                <span class="ios-label">Hi·ªán ƒë√°p √°n ngay</span>
                                <label class="ios-switch">
                                    <input type="checkbox" id="sim-show-answer-immediately">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="ios-item">
                                <span class="ios-label">Gi·∫£i th√≠ch AI</span>
                                <label class="ios-switch">
                                    <input type="checkbox" id="sim-show-ai-explanation" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- CARD: Distribution (Full Width) -->
                    <div class="bento-card full distribution-card">
                        <div class="card-header">
                            <h3>Ph√¢n b·ªï ch∆∞∆°ng</h3>
                            <span class="badge-soft" id="sim-total-percent">100%</span>
                        </div>
                        <div class="chapter-distribution" id="chapter-distribution-container">
                            <!-- Rendered by JS -->
                        </div>
                        <p class="warning-text hidden" id="dist-warning">‚ö†Ô∏è T·ªïng t·ªâ l·ªá ph·∫£i b·∫±ng 100%</p>
                    </div>

                    <!-- ACTION: Start Button -->
                    <div class="bento-action">
                        <button class="ios-btn-primary press-effect" id="start-simulation-btn">
                            B·∫Øt ƒë·∫ßu l√†m b√†i
                        </button>
                    </div>
                </div>
            </div>

            <!-- Exam Screen -->
            <div class="simulation-exam hidden" id="simulation-exam">
                <div class="sim-exam-header">
                    <div class="sim-timer" id="sim-timer">
                        <span class="timer-icon">‚è±Ô∏è</span>
                        <span class="timer-value" id="sim-timer-value">60:00</span>
                    </div>
                    <div class="sim-progress-info">
                        <span>C√¢u <span id="sim-current">1</span>/<span id="sim-total">80</span></span>
                    </div>
                    <button class="sim-submit-btn" id="sim-submit-btn">
                        N·ªôp b√†i
                    </button>
                </div>

                <div class="sim-exam-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="sim-progress"></div>
                    </div>
                </div>

                <div class="sim-question-nav" id="sim-question-nav">
                    <!-- Question navigation buttons will be rendered here -->
                </div>

                <div class="sim-question-container" id="sim-question-container">
                    <div class="question-header">
                        <span class="question-number" id="sim-question-number">C√¢u 1</span>
                    </div>
                    <div class="question-text" id="sim-question-text">
                        ƒêang t·∫£i c√¢u h·ªèi...
                    </div>
                    <div class="options" id="sim-options">
                        <!-- Options rendered here -->
                    </div>

                    <!-- Explanation (shown if immediate feedback enabled) -->
                    <div id="sim-explanation" class="hidden"></div>
                </div>

                <div class="sim-nav-buttons">
                    <button class="sim-nav-btn" id="sim-prev-btn" disabled>
                        ‚Üê C√¢u tr∆∞·ªõc
                    </button>
                    <button class="sim-nav-btn" id="sim-next-btn">
                        C√¢u sau ‚Üí
                    </button>
                </div>
            </div>

            <!-- Result Screen -->
            <div class="simulation-result hidden" id="simulation-result">
                <div class="result-header">
                    <div class="result-emoji" id="sim-result-emoji">üéâ</div>
                    <h2>K·∫øt qu·∫£ b√†i thi</h2>
                </div>

                <div class="result-score-circle">
                    <div class="score-circle" id="sim-score-circle">
                        <span class="score-value" id="sim-result-score">0</span>
                        <span class="score-label">ƒëi·ªÉm</span>
                    </div>
                </div>

                <div class="result-stats">
                    <div class="stat-item correct">
                        <span class="stat-value" id="sim-result-correct">0</span>
                        <span class="stat-label">ƒê√∫ng</span>
                    </div>
                    <div class="stat-item incorrect">
                        <span class="stat-value" id="sim-result-incorrect">0</span>
                        <span class="stat-label">Sai</span>
                    </div>
                    <div class="stat-item skipped">
                        <span class="stat-value" id="sim-result-skipped">0</span>
                        <span class="stat-label">B·ªè qua</span>
                    </div>
                </div>

                <div class="result-time">
                    <span class="time-icon">‚è±Ô∏è</span>
                    <span>Th·ªùi gian l√†m b√†i: <strong id="sim-result-time">00:00</strong></span>
                </div>

                <div class="result-actions">
                    <button class="action-btn" id="sim-review-btn">
                        üìù Xem l·∫°i ƒë√°p √°n
                    </button>
                    <button class="action-btn primary" id="sim-retry-btn">
                        üîÑ Thi l·∫°i
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer moved to Settings tab -->

    <!-- Floating Navigation Dock (Moved from Header) -->
    <nav class="main-nav">
        <a href="index.html" class="nav-tab">
            <span class="tab-icon">üè†</span>
            <span class="tab-text">Trang ch·ªß</span>
        </a>
        <a href="study.html" class="nav-tab">
            <span class="tab-icon">üìñ</span>
            <span class="tab-text">H·ªçc t·∫≠p</span>
        </a>
        <a href="exam.html" class="nav-tab">
            <span class="tab-icon">üìù</span>
            <span class="tab-text">Thi th·ª≠</span>
        </a>
        <a href="simulation.html" class="nav-tab active">
            <span class="tab-icon">üéØ</span>
            <span class="tab-text">Gi·∫£ l·∫≠p</span>
        </a>
        <a href="settings.html" class="nav-tab">
            <span class="tab-icon">‚öôÔ∏è</span>
            <span class="tab-text">C√†i ƒë·∫∑t</span>
        </a>
    </nav>

    <script src="js/common.js?v=2025122905"></script>
    <script src="js/simulation.js?v=2025122905"></script>
</body>

</html>